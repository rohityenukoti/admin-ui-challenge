{"ast":null,"code":"import React,{useState,useEffect}from'react';import UserTable from'./components/UserTable';import UserGrid from'./components/UserGrid';import SearchBar from'./components/SearchBar';import Pagination from'./components/Pagination';import FilterSidebar from'./components/FilterSidebar';import{fetchUsers}from'./api/userApi';import'./styles/App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const App=()=>{const[users,setUsers]=useState([]);const[filteredUsers,setFilteredUsers]=useState([]);const[currentPage,setCurrentPage]=useState(1);const[viewMode,setViewMode]=useState('table');const[sidebarOpen,setSidebarOpen]=useState(false);const[selectedUsers,setSelectedUsers]=useState([]);const usersPerPage=10;useEffect(()=>{const loadUsers=async()=>{const fetchedUsers=await fetchUsers();setUsers(fetchedUsers);setFilteredUsers(fetchedUsers);};loadUsers();},[]);const handleSearch=searchTerm=>{const filtered=users.filter(user=>Object.values(user).some(value=>value.toString().toLowerCase().includes(searchTerm.toLowerCase())));setFilteredUsers(filtered);setCurrentPage(1);};// console.log('Filtered users:', filteredUsers);\nconst handlePageChange=page=>{setCurrentPage(page);};const handleViewModeChange=()=>{setViewMode(prevMode=>prevMode==='table'?'grid':'table');};const toggleSidebar=()=>{setSidebarOpen(prevState=>!prevState);};const handleUserSelection=userId=>{setSelectedUsers(prevSelected=>prevSelected.includes(userId)?prevSelected.filter(id=>id!==userId):[...prevSelected,userId]);};const handleDeleteSelected=()=>{const updatedUsers=users.filter(user=>!selectedUsers.includes(user.id));setUsers(updatedUsers);setFilteredUsers(updatedUsers);setSelectedUsers([]);};// console.log('Selected users:', selectedUsers);\nconst indexOfLastUser=currentPage*usersPerPage;const indexOfFirstUser=indexOfLastUser-usersPerPage;const currentUsers=filteredUsers.slice(indexOfFirstUser,indexOfLastUser);return/*#__PURE__*/_jsxs(\"div\",{className:`app ${sidebarOpen?'sidebar-open':''}`,children:[/*#__PURE__*/_jsx(FilterSidebar,{isOpen:sidebarOpen,onSearch:handleSearch,onClose:toggleSidebar}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"top-controls\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:toggleSidebar,className:\"sidebar-toggle\",children:sidebarOpen?'Close Filters':'Open Filters'}),/*#__PURE__*/_jsx(SearchBar,{onSearch:handleSearch})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleViewModeChange,className:\"view-mode-toggle\",children:[\"Switch to \",viewMode==='table'?'Grid':'Table',\" View\"]}),viewMode==='table'?/*#__PURE__*/_jsx(UserTable,{users:currentUsers,onEdit:()=>{}// Implement edit functionality\n,onDelete:()=>{}// Implement delete functionality\n,selectedUsers:selectedUsers,onSelectUser:handleUserSelection}):/*#__PURE__*/_jsx(UserGrid,{users:currentUsers,onEdit:()=>{}// Implement edit functionality\n,onDelete:()=>{}// Implement delete functionality\n,selectedUsers:selectedUsers,onSelectUser:handleUserSelection}),/*#__PURE__*/_jsx(Pagination,{currentPage:currentPage,totalPages:Math.ceil(filteredUsers.length/usersPerPage),onPageChange:handlePageChange}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDeleteSelected,className:\"delete-selected\",children:\"Delete Selected\"})]})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","UserTable","UserGrid","SearchBar","Pagination","FilterSidebar","fetchUsers","jsx","_jsx","jsxs","_jsxs","App","users","setUsers","filteredUsers","setFilteredUsers","currentPage","setCurrentPage","viewMode","setViewMode","sidebarOpen","setSidebarOpen","selectedUsers","setSelectedUsers","usersPerPage","loadUsers","fetchedUsers","handleSearch","searchTerm","filtered","filter","user","Object","values","some","value","toString","toLowerCase","includes","handlePageChange","page","handleViewModeChange","prevMode","toggleSidebar","prevState","handleUserSelection","userId","prevSelected","id","handleDeleteSelected","updatedUsers","indexOfLastUser","indexOfFirstUser","currentUsers","slice","className","children","isOpen","onSearch","onClose","onClick","onEdit","onDelete","onSelectUser","totalPages","Math","ceil","length","onPageChange"],"sources":["/Users/rohityenukoti/Documents/turingmedschool_nucleus/turingmedschool/Geektrust_challenge/admin-ui-challenge/admin-ui-challenge/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport UserTable from './components/UserTable';\nimport UserGrid from './components/UserGrid';\nimport SearchBar from './components/SearchBar';\nimport Pagination from './components/Pagination';\nimport FilterSidebar from './components/FilterSidebar';\nimport { fetchUsers } from './api/userApi';\nimport './styles/App.css';\n\nconst App = () => {\n  const [users, setUsers] = useState([]);\n  const [filteredUsers, setFilteredUsers] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [viewMode, setViewMode] = useState('table');\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n  const [selectedUsers, setSelectedUsers] = useState([]);\n  const usersPerPage = 10;\n\n  useEffect(() => {\n    const loadUsers = async () => {\n      const fetchedUsers = await fetchUsers();\n      setUsers(fetchedUsers);\n      setFilteredUsers(fetchedUsers);\n    };\n    loadUsers();\n  }, []);\n\n  const handleSearch = (searchTerm) => {\n    const filtered = users.filter(user =>\n      Object.values(user).some(value => \n        value.toString().toLowerCase().includes(searchTerm.toLowerCase())\n      )\n    );\n    setFilteredUsers(filtered);\n    setCurrentPage(1);\n  };\n\n  // console.log('Filtered users:', filteredUsers);\n\n  const handlePageChange = (page) => {\n    setCurrentPage(page);\n  };\n\n  const handleViewModeChange = () => {\n    setViewMode(prevMode => prevMode === 'table' ? 'grid' : 'table');\n  };\n\n  const toggleSidebar = () => {\n    setSidebarOpen(prevState => !prevState);\n  };\n\n  const handleUserSelection = (userId) => {\n    setSelectedUsers(prevSelected => \n      prevSelected.includes(userId)\n        ? prevSelected.filter(id => id !== userId)\n        : [...prevSelected, userId]\n    );\n  };\n\n  const handleDeleteSelected = () => {\n    const updatedUsers = users.filter(user => !selectedUsers.includes(user.id));\n    setUsers(updatedUsers);\n    setFilteredUsers(updatedUsers);\n    setSelectedUsers([]);\n  };\n\n  // console.log('Selected users:', selectedUsers);\n\n  const indexOfLastUser = currentPage * usersPerPage;\n  const indexOfFirstUser = indexOfLastUser - usersPerPage;\n  const currentUsers = filteredUsers.slice(indexOfFirstUser, indexOfLastUser);\n\n  return (\n    <div className={`app ${sidebarOpen ? 'sidebar-open' : ''}`}>\n      <FilterSidebar isOpen={sidebarOpen} onSearch={handleSearch} onClose={toggleSidebar} />\n      <div className=\"main-content\">\n        <div className=\"top-controls\">\n          <button onClick={toggleSidebar} className=\"sidebar-toggle\">\n            {sidebarOpen ? 'Close Filters' : 'Open Filters'}\n          </button>\n          <SearchBar onSearch={handleSearch} />\n        </div>\n        <button onClick={handleViewModeChange} className=\"view-mode-toggle\">\n          Switch to {viewMode === 'table' ? 'Grid' : 'Table'} View\n        </button>\n        {viewMode === 'table' ? (\n          <UserTable \n            users={currentUsers} \n            onEdit={() => {}} // Implement edit functionality\n            onDelete={() => {}} // Implement delete functionality\n            selectedUsers={selectedUsers}\n            onSelectUser={handleUserSelection}\n          />\n        ) : (\n          <UserGrid \n            users={currentUsers} \n            onEdit={() => {}} // Implement edit functionality\n            onDelete={() => {}} // Implement delete functionality\n            selectedUsers={selectedUsers}\n            onSelectUser={handleUserSelection}\n          />\n        )}\n        <Pagination \n          currentPage={currentPage}\n          totalPages={Math.ceil(filteredUsers.length / usersPerPage)}\n          onPageChange={handlePageChange}\n        />\n        <button onClick={handleDeleteSelected} className=\"delete-selected\">\n          Delete Selected\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}